<!DOCTYPE html>
<html lang="en-IN" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="author" content="SidPro"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta name="description" content="Will you go to prom with me? A website to invite your girlfriend to prom."/>
    <meta name="keywords" content="Promposal, prom, asking to prom, prom invitation"/>
    <link rel="stylesheet" href="./style.css">
    <style>
        .mySlides {
            display: none; /* Hide all slides initially */
        }
        .mySlides:first-child {
            display: block; /* Show only the first slide */
        }
        #ans {
            display: none; /* Hide celebration message initially */
        }
        .title-container {
            text-align: center; /* Center align the title */
            margin-bottom: 20px; /* Adjust margin bottom */
            margin-top: 20px; /* Adjust margin top */
        }
        .fancy-script {
            font-family: 'Pacifico', cursive; /* Fancy font */
            font-size: 36px; /* Adjust font size */
        }
    </style>
</head>
<body>

<!-- Flower petals animation container -->
<div class="flower-petals-container">
    <img src="image/Petal.gif" alt="Flower petals" class="flower-petals">
</div>

<audio id="background-music" loop>
    <source src="enchanted.mp4" type="audio/mp4; codecs=mp4a.40.2">
    Your browser does not support the audio element.
</audio>
<!-- Title -->
<div class="title-container">
    <h1 class="fancy-script">Do you Want to Go to Prom with Me?</h1>
</div>
<!-- Flower petals animation container ends -->
<div id="ask" class="container">
    <div class="header_text_container">
        <h1 class="header_text">Will you go to prom with me?</h1>
    </div>
    <div class="gif_container">
        <!-- Prom background image -->
        <img src="image/prom2.jpeg" alt="Prom background image" class="prom-background">
        <!-- Slideshow container -->
        <div class="slideshow-container">
            <!-- Full-width images with number and caption text -->
            <div class="mySlides fade">
                <div class="image-container"> <!-- Add image container -->
                    <img src="image/Winnie1.jpeg" class="slideshow-image slide-image" alt="Cat Picture 1">
                </div>
            </div>
            
            <div class="mySlides fade">
                <div class="image-container"> <!-- Add image container -->
                    <img src="image/CatPic2.jpeg" class="slideshow-image slide-image" alt="Cat Picture 2">
                </div>
            </div>
            
            <div class="mySlides fade">
                <div class="image-container"> <!-- Add image container -->
                    <img src="image/CatPic3.jpeg" class="slideshow-image slide-image" alt="Cat Picture 3">
                </div>
            </div>

            <div class="mySlides fade">
                <div class="image-container"> <!-- Add image container -->
                    <img src="image/CatPic5.jpeg" class="slideshow-image slide-image" alt="Cat Picture 3">
                </div>
            </div>

            <div class="mySlides fade">
                <div class="image-container"> <!-- Add image container -->
                    <img src="image/CatPic6.jpeg" class="slideshow-image slide-image" alt="Cat Picture 3">
                </div>
            </div>

            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides(-1)">❮</a>
            <a class="next" onclick="plusSlides(1)">❯</a>
        </div>
        <!-- The dots/circles -->
        <div style="text-align:center">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </div>
</div>

<!-- Buttons -->
<div class="buttons">
    <button class="btn" id="yesButton" onclick="celebrate()">Yes</button>
    <button class="btn" id="noButton" onmouseover="moveButton()" onclick="moveButton()">No</button>
</div>

<!-- Script for slideshow -->
<script>
    var slideIndex = 1;
    let map;
    const locCode = JSON.parse(document.currentScript.nextElementSibling.textContent);
    showSlides(slideIndex);

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        if (n > slides.length) {slideIndex = 1;}
        if (n < 1) {slideIndex = slides.length;}
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slides[slideIndex-1].style.display = "block";
    }

    // Function to display celebration message and hide the invitation
    function celebrate() {
        document.getElementById('ans').style.display = 'block';
        document.getElementById('ask').style.display = 'none';
        // Add any additional celebration functionality here
        // For now, let's redirect to another page after 3 seconds
        setTimeout(function(){
            window.location.href = "next_page.html"; // Replace "next_page.html" with the URL of your next page
        }, 3000); // 3 seconds delay before redirecting
    }

    function playAudio()
    {
        document.getElementById('novideo').play();
    }

    var debounce = function(fn, t = 1000) {
        let timer;
        return function(...args) {
            clearTimeout(timer);
            timer = setTimeout(() => fn(...args), t);
        }
    };

    function nextPage() {
        //window.location.href = "yes.html";
        document.getElementById('ans').style.display = 'block';
        document.getElementById('ask').style.display = 'none';
        document.getElementById('novideo').pause();
        document.getElementById('ansvideo').play();
    }

    function moveButton() {
        var button = document.getElementById('noButton');
        var maxX = window.innerWidth - button.offsetWidth;
        var maxY = window.innerHeight - button.offsetHeight;
        var x = Math.random() * maxX;
        var y = Math.random() * maxY;
        
        // Adjust x and y coordinates if the button is out of bounds
        if (x < 0) {
            x = 0;
        } else if (x > maxX) {
            x = maxX;
        }
        
        if (y < 0) {
            y = 0;
        } else if (y > maxY) {
            y = maxY;
        }
        
        button.style.left = `${x}px`;
        button.style.top = `${y}px`;
        playAudio();
    }
    
    window.onload = function() {
        document.getElementById("background-music").play();
    }
    
</script>
</body>
</html>
